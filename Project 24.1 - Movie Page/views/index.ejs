<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <title>Project 24.1 - Movie Page</title>

    <link rel="stylesheet" href="/css/bootstrap.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/remixicon/4.6.0/remixicon.min.css"
    />

    <style>
      body {
        background-color: #121212;
        color: #ffffff;
      }

      .navbar {
        background-color: #1f1f1f !important;
      }

      .navbar-brand,
      .nav-link {
        color: #fff !important;
        font-weight: 500;
      }

      .nav-link.active {
        color: #ff5252 !important;
      }

      a.card:hover {
        transform: scale(1.03);
        transition: 0.3s ease;
        z-index: 2;
      }

      .movie-badge {
        background-color: rgba(0, 0, 0, 0.75);
        backdrop-filter: blur(4px);
      }

      .card-title,
      .card-text {
        text-shadow: 0 0 4px rgba(0, 0, 0, 0.6);
      }

      .see-all-link {
        color: #ff5252;
        transition: 0.2s;
      }

      .see-all-link:hover {
        text-decoration: underline;
        color: #ff7777;
      }
    </style>
  </head>

  <body data-bs-theme="dark">
    <header>
      <nav class="navbar navbar-expand-lg shadow-sm">
        <div class="container-fluid">
          <a class="navbar-brand" href="/">ðŸŽ¬ Movie</a>

          <button
            class="navbar-toggler text-white"
            type="button"
            data-bs-toggle="collapse"
            data-bs-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent"
            aria-expanded="false"
            aria-label="Toggle navigation"
          >
            <span class="navbar-toggler-icon"></span>
          </button>

          <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav ms-auto mb-2 mb-lg-0">
              <li class="nav-item">
                <a class="nav-link active" href="/">Home</a>
              </li>

              <li class="nav-item">
                <a class="nav-link" href="/addMoviePage">Add Movie</a>
              </li>
            </ul>
          </div>
        </div>
      </nav>
    </header>

    <main>
      <div class="container-fluid py-5">
        <div class="d-flex justify-content-between align-items-center mb-4">
          <h2 class="fw-bold mb-0">Recommended Movies</h2>

          <a href="#" class="see-all-link text-decoration-none"
            >See All &rsaquo;</a
          >
        </div>

        <div class="row g-4">
          <% movieCatalogue.map((movie, i) => { %>
          <div class="col-xl-2 col-lg-3 col-md-4 col-sm-6">
            <a
              href="/viewMovies/<%= movie._id %>"
              class="card border-0 bg-dark text-white rounded-4 overflow-hidden shadow-sm"
              style="height: 400px"
            >
              <img
                src="<%= movie.moviePoster %>"
                class="card-img h-100 object-fit-cover"
                alt="<%= movie.movieName %>"
              />

              <div
                class="card-img-overlay p-0 d-flex flex-column justify-content-between"
              >
                <div class="d-flex justify-content-end p-2">
                  <span
                    class="badge movie-badge text-light px-3 py-2 rounded-pill"
                  >
                    <i class="ri-thumb-up-fill text-success me-1"></i><%=
                    movie.genres.join(", ") %>
                  </span>
                </div>

                <div
                  class="p-3 bg-gradient"
                  style="
                    background: linear-gradient(
                      transparent,
                      rgba(0, 0, 0, 0.85)
                    );
                  "
                >
                  <h5 class="card-title mb-1 fw-semibold">
                    <%= movie.movieName %>
                  </h5>
                  <p class="card-text small text-light opacity-75 mb-0">
                    <%= movie.genres %>
                  </p>
                </div>
              </div>
            </a>
          </div>
          <% }) %>
        </div>
      </div>
    </main>

    <script src="/js/bootstrap.bundle.js"></script>
  </body>
</html>
