<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <title>Static CRUD Template</title>

    <link rel="stylesheet" href="/css/bootstrap.css" />
  </head>

  <body style="background-color: #989797">
    <h2 class="display-3 text-primary text-center">Static CRUD</h2>

    <div class="container">
      <form
        action="/addData"
        method="post"
        class="d-flex justify-content-center align-items-center"
      >
        <div
          id="signup-container"
          style="
            background-color: #e8e8e8;
            backdrop-filter: blur;
            border: 1px solid white;
            border-radius: 30px;
            padding: 20px 25px;
            width: 500px;
          "
        >
          <div class="d-flex justify-content-between">
            <div class="form-floating">
              <input
                type="text"
                name="firstName"
                class="form-control"
                id="floatingFirstName"
                placeholder="First Name"
                style="
                  background: transparent;
                  border: 2px solid #c3c3c3;
                  width: 210px;
                "
                required
              />
              <label for="floatingFirstName">First Name</label>
            </div>

            <div class="form-floating">
              <input
                type="text"
                name="lastName"
                class="form-control"
                id="floatingLastName"
                placeholder="Last Name"
                style="
                  background: transparent;
                  border: 2px solid #c3c3c3;
                  width: 210px;
                "
                required
              />
              <label for="floatingLastName">Last Name</label>
            </div>
          </div>

          <div class="form-floating mt-3">
            <input
              type="email"
              name="eMail"
              class="form-control"
              id="floatingEmail"
              placeholder="Email"
              style="background: transparent; border: 2px solid #c3c3c3"
              required
            />
            <label for="floatingEmail">Email</label>
          </div>

          <div class="form-floating mt-3">
            <input
              type="number"
              name="age"
              class="form-control"
              id="floatingAge"
              placeholder="Age"
              style="background: transparent; border: 2px solid #c3c3c3"
              required
            />
            <label for="floatingAge">Age</label>
          </div>

          <div
            class="rounded-3 mt-3 p-3"
            style="border: 2px solid #c3c3c3; background: transparent"
          >
            <label for="gender">Choose Your Gender:</label>

            <input
              type="radio"
              name="gender"
              id="male"
              value="Male"
              class="form-check-input ms-3"
              required
            />
            <label for="male" class="ms-1">Male</label>

            <input
              type="radio"
              name="gender"
              id="female"
              value="Female"
              class="form-check-input ms-3"
            />
            <label for="female" class="ms-1">Female</label>
          </div>

          <div
            class="rounded-3 mt-3 p-3"
            style="border: 2px solid #c3c3c3; background: transparent"
          >
            <label for="hobbies">Select Your Hobbies:</label>

            <input
              type="checkbox"
              name="hobbies[]"
              id="coding"
              value="Coding"
              class="form-check-input ms-2"
            />
            <label for="coding" class="ms-1">Coding</label>

            <input
              type="checkbox"
              name="hobbies[]"
              id="reading"
              value="Reading"
              class="form-check-input ms-2"
            />
            <label for="reading" class="ms-1">Reading</label>

            <input
              type="checkbox"
              name="hobbies[]"
              id="music"
              value="Music"
              class="form-check-input ms-2"
            />
            <label for="music" class="ms-1">Music</label>
          </div>

          <div
            class="rounded-3 mt-3 p-2"
            style="border: 2px solid #c3c3c3; background: transparent"
          >
            <select class="form-select" name="city" required>
              <option value="" disabled selected>-- Select City --</option>
              <option value="austin">Austin</option>
              <option value="brooklyn">Brooklyn</option>
              <option value="chicago">Chicago</option>
              <option value="denver">Denver</option>
            </select>
          </div>

          <button
            type="submit"
            class="btn btn-primary w-75 mx-auto mt-3 d-block rounded-pill"
          >
            Register
          </button>
        </div>
      </form>

      <% if (users.length) { %>
      <div class="mt-5 pt-5">
        <h3 class="text-center text-white mb-3">Registered Users</h3>

        <table class="table table-striped table-bordered bg-white rounded-3">
          <thead class="table-secondary">
            <tr>
              <th>#</th>
              <th>First</th>
              <th>Last</th>
              <th>Email</th>
              <th>Age</th>
              <th>Gender</th>
              <th>Hobbies</th>
              <th>City</th>
              <th>Actions</th>
            </tr>
          </thead>

          <tbody>
            <% users.forEach((u, i) => { %>
            <tr>
              <td><%= i + 1 %></td>
              <td><%= u.firstName %></td>
              <td><%= u.lastName %></td>
              <td><%= u.eMail %></td>
              <td><%= u.age %></td>
              <td><%= u.gender %></td>
              <td><%= u.hobbies.join(", ") %></td>
              <td><%= u.city %></td>
              <td>
                <a href="/edit/<%= u._id %>" class="btn btn-warning btn-sm"
                  >Edit</a
                >

                <form
                  action="/delete/<%= u._id %>"
                  method="post"
                  class="d-inline"
                >
                  <button type="submit" class="btn btn-danger btn-sm">
                    Delete
                  </button>
                </form>
              </td>
            </tr>
            <% }) %>
          </tbody>
        </table>
      </div>
      <% } %>
    </div>

    <script src="/js/bootstrap.bundle.js"></script>
  </body>
</html>
